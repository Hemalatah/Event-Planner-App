"use strict";!function(e){function a(a){e(".event-detail").html("");var t=[],r='<a href="index.html"> <img src="'+a.image+'"/></a>',i='<div class="event-info">';t.push(r,i);var s="<h1>"+a.eventName+"</h1>",n='<div class="event-content">';t.push(s,n);var l="<span>"+a.address.join(",<br>")+"</span>",d="<h4>"+a.startTime+" to "+a.endTime+"</h4>",o="<p>"+a.description+"</p>",u="<h3>Organized By: "+a.hostName+"</h3>";t.push(l,d,o,u),e(".event-detail").append(t.join(""))}function t(a){e(".meetups").html("");var t='<ul class="meetup-list"></ul>';e(".meetups").append(t);var r=[];e.each(a.events,function(e,a){var t='<li class="'+a.eventType+'">',i='<a class="meetup" href="#">',s='<img src="'+a.image+'"/>',n='<button id="'+e+'" class="text">'+a.eventName+"<br>"+a.eventType+"</button></a></li>";r.push(t,i,s,n)}),e(".meetup-list").append(r.join(""))}function r(e){e=e.split("-");var a="";switch(e[1]){case"01":a=e[2]+" Jan "+e[0];break;case"02":a=e[2]+" Feb "+e[0];break;case"03":a=e[2]+" Mar "+e[0];break;case"04":a=e[2]+" Apr "+e[0];break;case"05":a=e[2]+" May "+e[0];break;case"06":a=e[2]+" Jun "+e[0];break;case"07":a=e[2]+" Jul "+e[0];break;case"08":a=e[2]+" Aug "+e[0];break;case"09":a=e[2]+" Sep "+e[0];break;case"10":a=e[2]+" Oct "+e[0];break;case"11":a=e[2]+" Nov "+e[0];break;case"12":a=e[2]+" Dec "+e[0]}return a}function i(e){if(void 0!=e){e=e.split(":");var a;a=e[0]<12?e[0]+":"+e[1]+"AM":12==e[0]?e[0]+":"+e[1]+"PM":24==e[0]?"00:"+e[1]+"AM":e[0]-12+":"+e[1]+"PM"}return a}function s(e){e=e.split("T");var a=r(e[0]),t=i(e[1]);return a+" @ "+t}function n(){var a=e("input"),t={},r=new Array;a.each(function(){var a=e(this).attr("id"),i=e(this).val();"eventName"==a||"eventType"==a||"hostName"==a||"phoneNumber"==a||"eAddress"==a?t[a]=i:"startTime"==a||"endTime"==a?(i=s(i),t[a]=i):"address1"!=a&&"city"!=a&&"state"!=a&&"zip"!=a&&"country"!=a||r.push(i)}),t.address=r.join(" ");var i=e("#textarea").val();return i&&(t.description=i),eventArray.events.push(t),eventArray}function l(){if(v){var a=e("#snackbar");a.addClass("show"),setTimeout(function(){a.removeClass("show"),window.location.replace("userpage.html")},3e3)}}e("#down-arrow").on("click",function(){e("#drop-down").css("visibility","visible")});var d=0;e("#form-create input").focusout(function(){if(e(this).val().length>0){var a=e(this).attr("class");d+=parseInt(a)}e("progress").val(d)}),e("#form-create textarea").focusout(function(){if(e(this).val().length>0){var a=e(this).attr("class");d+=parseInt(a)}e("progress").val(d)}),e("#createpage").on("click",function(){var a=e("#login-warning");a.addClass("show"),setTimeout(function(){a.removeClass("show"),window.location.replace("logIn.html")},3e3)});var o=e(".clearable");e("#eventVal").on("input",function(){var a=this.value;e(".meetup-list li").each(function(){e(this).attr("class")==a?e(this).show():e(this).hide()}),""==a?o.hide():o.show()}),o.on("click",function(){o.hide(),e("#eventVal").val(""),e(".meetup-list li").each(function(){e(this).show()})}),t(eventArray);var u=e(".modal");e(".text").on("click",function(){u.css("display","block");var t=e(this).attr("id");a(eventArray.events[t])}),e(".close-icon").on("click",function(){u.css("display","none")}),e(window).on("click",function(e){e.target==u&&u.css("display","none")});var h=1;e("#"+h).css("border","2px solid #02B3E4"),e("#"+h+"  div").css("color","#02B3E4");var v=!1;e("input[type=password]").keyup(function(){e(".error-info").show();var a=e(this).val();a.length<8?(e("#length").removeClass("valid").addClass("invalid"),e("#length i").removeClass("fa-thumbs-up").addClass("fa-thumbs-down"),v=!1):(e("#length").removeClass("invalid").addClass("valid"),e("#length i").removeClass("fa-thumbs-down").addClass("fa-thumbs-up"),v=!0),a.match(/[A-z]/)?(e("#letter").removeClass("invalid").addClass("valid"),e("#letter i").removeClass("fa-thumbs-down").addClass("fa-thumbs-up"),v=!0):(e("#letter").removeClass("valid").addClass("invalid"),e("#letter i").removeClass("fa-thumbs-up").addClass("fa-thumbs-down"),v=!1),a.match(/[A-Z]/)?(e("#capital").removeClass("invalid").addClass("valid"),e("#capital i").removeClass("fa-thumbs-down").addClass("fa-thumbs-up"),v=!0):(e("#capital").removeClass("valid").addClass("invalid"),e("#capital i").removeClass("fa-thumbs-up").addClass("fa-thumbs-down"),v=!1),a.match(/\d/)?(e("#number").removeClass("invalid").addClass("valid"),e("#number i").removeClass("fa-thumbs-down").addClass("fa-thumbs-up"),v=!0):(e("#number").removeClass("valid").addClass("invalid"),e("#number i").removeClass("fa-thumbs-up").addClass("fa-thumbs-down"),v=!1)}).focus(function(){e(".error-info").show(),e(".error-info").css("color","#555")}),e.validator.addMethod("validemail",function(e,a){return this.optional(a)||e.match(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/)}),e.validator.addMethod("validaddress",function(e,a){return this.optional(a)||e.match(/(\d+)/)}),e.validator.addMethod("validcity",function(e,a){return this.optional(a)||e.match(/[\w ]+/)}),e.validator.addMethod("validstate",function(e,a){return this.optional(a)||e.match(/([A-Z]){2}/)||e.match(/([a-z]){4}/)}),e.validator.addMethod("validcountry",function(e,a){return this.optional(a)||e.match(/([A-Z]){2}/)||e.length>0}),e.validator.addMethod("validzip",function(e,a){return this.optional(a)||e.match(/(\d{5}([\-]\d{4})?)/)}),e.validator.addMethod("eventtype",function(a,t){return this.optional(t)||null!=e("#event").find('option[value="'+a+'"]')&&e("#event").find('option[value="'+a+'"]').length>0}),e.validator.addMethod("validdate",function(e){e=e.split("T"),e=e[0].split("-");var a=new Date;return e[0]>a.getFullYear()||e[0]==a.getFullYear()&&e[1]>=a.getMonth()&&e[2]>a.getDate()}),e.validator.addMethod("validenddate",function(a){a=a.split("T");var t=a[1];t=t.split(":"),a=a[0].split("-");var r=e("#startTime").val();r=r.split("T");var i=r[1];if(i=i.split(":"),r=r[0].split("-"),r[0]<=a[0]&&r[1]<=a[1]&&r[2]<=a[2]){if(i[0]<t[0])return!0;if(i[0]==t[0])return i[1]<t[1]}return!1}),e.validator.addMethod("phoneUS",function(e,a){return e=e.replace(/\s+/g,""),this.optional(a)||e.length>=9&&e.match(/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/)});var c={};c.UTIL={setupFormValidation:function(){e("#form-create").validate({rules:{eventName:{required:!0,minlength:3},eventType:{eventtype:!0},hostName:{required:!0,minlength:3},phone:{required:!0,phoneUS:!0},email:{required:!0,validemail:!0},start_date:{required:!0,validdate:!0},end_date:{required:!0,validenddate:!0},address:{required:!0},city:{required:!0,validcity:!0},state:{required:!0,validstate:!0},zip:{required:!0,validzip:!0},country:{required:!0,validcountry:!0},textArea:{required:!0,minlength:25,maxlength:100}},messages:{eventName:{required:"Please enter the Name of the event",minlength:"Please enter atleast 3 letters"},eventType:{eventtype:"Please select the type of the event from the list"},hostName:{required:"Please enter the Name of the host",minlength:"Please enter atleast 3 letters"},phone:{required:'Please enter the phone number in the format of either "(xxx)xxx-xxxx" or "1xxx-xxx-xxx"',phoneUS:'Please enter the valid phone number in the format "(xxx)xxx-xxxx" or "1xxx-xxx-xxx"'},email:{required:"Please enter the email ID",validemail:"Please enter the valid email ID"},start_date:{required:"Please enter the start date",validdate:"please enter the date and time after the current dateTime"},end_date:{required:"Please enter the end date",validenddate:"please enter the date and time after the one entered in start date and time field"},address:{required:"Please enter the address"},city:{required:"Please enter the city",validcity:"Please enter the valid city"},state:{required:"Please enter the state",validstate:"Please enter the valid state"},zip:{required:"Please enter the zip",validzip:"Please enter the valid zip"},country:{required:"Please enter the country",validcountry:"Please enter the valid country"},textArea:{required:"Please enter the description",minlength:"Please enter minimum 25 letters",maxlength:"Please enter maximum 100 letters"}},submitHandler:function(){var a=(n(),e("#snackbar"));a.addClass("show"),setTimeout(function(){a.removeClass("show");var e=confirm("Would you like to create an another event?");e?window.location.replace("usercreate.html"):window.location.replace("userpage.html")},3e3)}}),e("#form-login").validate({rules:{username:{required:!0,minlength:6},email:{required:!0,validemail:!0},password:{required:!0}},messages:{username:{required:"Please enter the username",minlength:"Please enter atleast 6 characters"},email:{required:"Please enter the email ID",validemail:"Please enter the valid email ID"},password:{required:"Please enter the password"}},submitHandler:function(){l()}}),e("#form-signup").validate({rules:{username:{required:!0,minlength:6},email:{required:!0,validemail:!0},password:{required:!0}},messages:{username:{required:"Please enter the username",minlength:"Please enter atleast 6 characters"},email:{required:"Please enter the email ID",validemail:"Please enter the valid email ID"},password:{required:"Please enter the password"}},submitHandler:function(){l()}})}},c.UTIL.setupFormValidation()}(jQuery);
